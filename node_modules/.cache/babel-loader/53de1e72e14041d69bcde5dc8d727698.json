{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Paul\\\\Desktop\\\\drouotGitRepo\\\\drouot_Front\\\\src\\\\components\\\\login\\\\formikTestForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Formik, Form as FromikForm, Field } from 'formik';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport * as Yup from 'yup';\nimport { login } from '../../actions/login';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignInSchema = Yup.object().shape({\n  email: Yup.string().email('Invalid email').required('Required'),\n  password: Yup.string().min(2, 'Too Short!').max(18, 'Too Long!').required('Required')\n});\nexport const SignUpForm = () => {\n  _s();\n\n  const isLoggedIn = useSelector(state => state.login);\n  const dispatch = useDispatch();\n  useEffect(() => {}, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        email: '',\n        password: ''\n      },\n      validationSchema: SignInSchema,\n      onSubmit: values => {\n        fetch(`http://localhost:8080/user/email`, {\n          method: 'POST',\n          body: JSON.stringify(values)\n        }).then(response => {\n          if (response.ok) {\n            return response.json();\n          } else throw response;\n        }).then(response => {\n          dispatch(login);\n        }).catch(error => {\n          error.json().then(body => {\n            console.log(body.error);\n            return body.error;\n          });\n        });\n      },\n      children: ({\n        errors,\n        touched\n      }) => /*#__PURE__*/_jsxDEV(FromikForm, {\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          className: \"form-control my-2\",\n          name: \"email\",\n          type: \"email\",\n          placeHolder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), errors.email && touched.email ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 46\n        }, this) : null, /*#__PURE__*/_jsxDEV(Field, {\n          className: \"form-control my-2\",\n          name: \"password\",\n          type: \"password\",\n          placeHolder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), errors.password && touched.password ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 53\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-info pull-right\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 12\n  }, this);\n};\n\n_s(SignUpForm, \"g5uETS2fIYXug5OFaym/DvjvmPU=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = SignUpForm;\nexport default SignUpForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpForm\");","map":{"version":3,"sources":["C:/Users/Paul/Desktop/drouotGitRepo/drouot_Front/src/components/login/formikTestForm.js"],"names":["React","useEffect","Formik","Form","FromikForm","Field","Yup","login","useDispatch","useSelector","SignInSchema","object","shape","email","string","required","password","min","max","SignUpForm","isLoggedIn","state","dispatch","values","fetch","method","body","JSON","stringify","then","response","ok","json","catch","error","console","log","errors","touched"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Formik, Form as FromikForm, Field } from 'formik';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport * as Yup from 'yup';\r\nimport {login} from '../../actions/login'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst SignInSchema = Yup.object().shape({\r\n   email: Yup.string().email('Invalid email').required('Required'),\r\n   password: Yup.string()\r\n     .min(2, 'Too Short!')\r\n     .max(18, 'Too Long!')\r\n     .required('Required'),\r\n})\r\n\r\nexport const SignUpForm = () => {\r\n    const isLoggedIn = useSelector(state => state.login);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        \r\n        \r\n    }, [])\r\n    return(<div>\r\n      <Formik\r\n        initialValues={{\r\n            email: '',\r\n            password:'',\r\n        }}\r\n        validationSchema={SignInSchema}\r\n        onSubmit={values => {\r\n            fetch(`http://localhost:8080/user/email`, {method: 'POST',body: JSON.stringify(values)})\r\n            .then(response => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                }\r\n                else throw response;\r\n            }).then(response => {\r\n                dispatch(login)\r\n            }).catch(error => {\r\n                error.json().then((body) => {\r\n                    console.log(body.error);\r\n                    return body.error;\r\n                });\r\n            })\r\n        }}\r\n      >\r\n        {({ errors, touched }) => (\r\n          <FromikForm> \r\n            <Field className=\"form-control my-2\" name=\"email\" type=\"email\" placeHolder=\"Email\" />\r\n            {errors.email && touched.email ? <div>{errors.email}</div> : null}\r\n\r\n            <Field className=\"form-control my-2\" name=\"password\" type=\"password\" placeHolder=\"Password\" />\r\n            {errors.password && touched.password ? (<div>{errors.password}</div>) : null}\r\n\r\n            <button className=\"btn btn-info pull-right\" type=\"submit\">Submit</button>\r\n \r\n          </FromikForm>\r\n        )}\r\n      </Formik>\r\n    </div>)\r\n}\r\n\r\n  export default SignUpForm"]},"metadata":{},"sourceType":"module"}