{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Paul\\\\Documents\\\\git\\\\drouotGitRepo\\\\miniDrouot\\\\drouot_Front\\\\src\\\\components\\\\utilisateur\\\\createAuction\\\\createAuction.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Formik, Form as FromikForm, Field } from 'formik';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setAuction } from '../../../actions/auctionAction';\nimport { Container } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreatAuctionSchema = Yup.object().shape({\n  title: Yup.string().min(2, 'Too Short!').max(20, 'Too long!').required('Required'),\n  category: Yup.string().min(2, 'Too Short!').max(20, 'Too long!').required('Required'),\n  startDate: Yup.date(),\n  endDate: Yup.date(),\n  photoURL: Yup.string()\n});\nexport const CreateAuction = () => {\n  _s();\n\n  // currentUser is the global state representing the current user if it exists\n  const currentUser = useSelector(state => state.user); // dispatcher for updating isLoggedIn and current user\n\n  const dispatch = useDispatch();\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-center m-3\",\n      children: \"Create a new Auction\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        title: '',\n        category: '',\n        userId: currentUser.id,\n        startDate: '',\n        startTime: '08:30',\n        endDate: '',\n        endTime: '17:30'\n      },\n      validationSchema: CreatAuctionSchema,\n      onSubmit: values => {\n        fetch(`http://localhost:8080/auctions`, {\n          method: 'POST',\n          body: JSON.stringify(values)\n        }).then(response => {\n          if (response.ok) {\n            return response.json();\n          } else {\n            throw response.json();\n          }\n        }).then(response => {\n          const auction = {\n            id: response.data.ID,\n            title: response.data.title,\n            category: response.data.category,\n            startDate: response.data.startDate,\n            endDate: response.data.endDate,\n            photoURL: response.data.photoURL\n          };\n          dispatch(setAuction(auction));\n        }).catch(error => {\n          if (error instanceof Promise) {\n            error.then(error => {\n              // for dev purposes only\n              console.log(error);\n            });\n          } else {\n            // for dev purposes\n            console.log(\"not promise\");\n            alert(error);\n          }\n        });\n      },\n      children: ({\n        errors,\n        touched\n      }) => /*#__PURE__*/_jsxDEV(FromikForm, {\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          className: \"form-control my-2\",\n          name: \"title\",\n          type: \"text\",\n          placeholder: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), errors.title && touched.title ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 44\n        }, this) : null, /*#__PURE__*/_jsxDEV(Field, {\n          className: \"form-control my-2\",\n          name: \"category\",\n          type: \"text\",\n          placeholder: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), errors.category && touched.category ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 50\n        }, this) : null, /*#__PURE__*/_jsxDEV(Field, {\n          className: \"form-control my-2\",\n          name: \"startDate\",\n          type: \"date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), errors.startDate && touched.startDate ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.startDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 52\n        }, this) : null, /*#__PURE__*/_jsxDEV(Field, {\n          className: \"form-control my-2\",\n          name: \"startTime\",\n          type: \"time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), errors.startTime && touched.startTime ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.startTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 52\n        }, this) : null, /*#__PURE__*/_jsxDEV(Field, {\n          className: \"form-control my-2\",\n          name: \"endDate\",\n          type: \"date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), errors.email && touched.email ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 44\n        }, this) : null, /*#__PURE__*/_jsxDEV(Field, {\n          className: \"form-control my-2\",\n          name: \"endTime\",\n          type: \"time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), errors.endTime && touched.endTime ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.endTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 48\n        }, this) : null, /*#__PURE__*/_jsxDEV(Field, {\n          className: \"form-control my-2\",\n          name: \"photoURL\",\n          type: \"text\",\n          placeholder: \"Photo URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), errors.password && touched.password ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 51\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-info pull-right mx-2\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/profile\",\n          className: \"btn btn-danger pull-right mx-2\",\n          type: \"button\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 3\n  }, this);\n};\n\n_s(CreateAuction, \"J6IgTebZA2uoUZo4jRpEhm3pqO8=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = CreateAuction;\nexport default CreateAuction;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateAuction\");","map":{"version":3,"sources":["C:/Users/Paul/Documents/git/drouotGitRepo/miniDrouot/drouot_Front/src/components/utilisateur/createAuction/createAuction.js"],"names":["React","Formik","Form","FromikForm","Field","Yup","useDispatch","useSelector","setAuction","Container","Link","CreatAuctionSchema","object","shape","title","string","min","max","required","category","startDate","date","endDate","photoURL","CreateAuction","currentUser","state","user","dispatch","userId","id","startTime","endTime","values","fetch","method","body","JSON","stringify","then","response","ok","json","auction","data","ID","catch","error","Promise","console","log","alert","errors","touched","email","password"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Formik, Form as FromikForm, Field } from 'formik';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport * as Yup from 'yup';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setAuction } from '../../../actions/auctionAction';\r\nimport { Container } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CreatAuctionSchema = Yup.object().shape({\r\n  title: Yup.string()\r\n    .min(2, 'Too Short!')\r\n    .max(20, 'Too long!')\r\n    .required('Required'),\r\n    category: Yup.string()\r\n    .min(2, 'Too Short!')\r\n    .max(20, 'Too long!')\r\n    .required('Required'),\r\n    startDate: Yup.date(),\r\n    endDate: Yup.date(),\r\n   photoURL: Yup.string(),\r\n})\r\n\r\nexport const CreateAuction = () => {\r\n\r\n  // currentUser is the global state representing the current user if it exists\r\n  const currentUser = useSelector(state => state.user);\r\n\r\n  // dispatcher for updating isLoggedIn and current user\r\n  const dispatch = useDispatch();\r\n\r\n  return(\r\n  <Container>\r\n    <h4 className=\"text-center m-3\">Create a new Auction</h4>\r\n    <Formik\r\n      initialValues={{\r\n        title:'',\r\n        category:'',\r\n        userId: currentUser.id,\r\n        startDate: '',\r\n        startTime: '08:30',\r\n        endDate: '',\r\n        endTime: '17:30'\r\n      }}\r\n      validationSchema={CreatAuctionSchema}\r\n      onSubmit={values => {\r\n          fetch(`http://localhost:8080/auctions`, {method: 'POST', body: JSON.stringify(values)})\r\n          .then(response => {\r\n              if (response.ok) {\r\n                return response.json();\r\n              }else {\r\n                throw response.json();\r\n            }\r\n          }).then(response => {\r\n            const auction = {\r\n              id: response.data.ID,\r\n              title: response.data.title,\r\n              category:response.data.category,\r\n              startDate: response.data.startDate,\r\n              endDate: response.data.endDate,\r\n              photoURL: response.data.photoURL\r\n            }\r\n            dispatch(setAuction(auction))\r\n          }).catch(error => {\r\n            if (error instanceof Promise) {\r\n              error.then(error => {\r\n                // for dev purposes only\r\n                console.log(error);\r\n              })\r\n            }else {\r\n              // for dev purposes\r\n              console.log(\"not promise\")\r\n              alert(error)\r\n            }\r\n          })\r\n      }}\r\n    >\r\n      {({ errors, touched }) => (\r\n        <FromikForm> \r\n          <Field className=\"form-control my-2\" name=\"title\" type=\"text\" placeholder=\"Title\" />\r\n          {errors.title && touched.title ? <div>{errors.title}</div> : null}\r\n\r\n          <Field className=\"form-control my-2\" name=\"category\" type=\"text\" placeholder=\"Category\" />\r\n          {errors.category && touched.category ? <div>{errors.category}</div> : null}\r\n\r\n          <Field className=\"form-control my-2\" name=\"startDate\" type=\"date\" />\r\n          {errors.startDate && touched.startDate ? <div>{errors.startDate}</div> : null}\r\n          <Field className=\"form-control my-2\" name=\"startTime\" type=\"time\" />\r\n          {errors.startTime && touched.startTime ? <div>{errors.startTime}</div> : null}\r\n\r\n          <Field className=\"form-control my-2\" name=\"endDate\" type=\"date\" />\r\n          {errors.email && touched.email ? <div>{errors.email}</div> : null}\r\n          <Field className=\"form-control my-2\" name=\"endTime\" type=\"time\" />\r\n          {errors.endTime && touched.endTime ? <div>{errors.endTime}</div> : null}\r\n\r\n          <Field className=\"form-control my-2\" name=\"photoURL\" type=\"text\" placeholder=\"Photo URL\" />\r\n          {errors.password && touched.password ? (<div>{errors.password}</div>) : null}\r\n\r\n          <button className=\"btn btn-info pull-right mx-2\" type=\"submit\">Submit</button>\r\n          <Link to=\"/profile\" className=\"btn btn-danger pull-right mx-2\" type=\"button\">Cancel</Link>\r\n          \r\n        </FromikForm>\r\n      )}\r\n    </Formik>\r\n  </Container>)\r\n}\r\n\r\n  export default CreateAuction"]},"metadata":{},"sourceType":"module"}